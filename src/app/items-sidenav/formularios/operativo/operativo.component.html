<div class="card">
  <h3 class="card-title" style="margin: 10px; text-align: center">
    PERFIL OPERATIVO
  </h3>

  <form novalidate class="card" form #operativoForm="ngForm" role="form">
    <div class="row">
      <div class="col">
        <div class="card mt-3" style="border: none">
          <label style="margin-bottom: 0%; margin-left: 2%"
            ><strong>Conteste las siguientes preguntas:</strong></label
          >
          <hr />
          <div class="card-body" style="padding-top: 0%">
            <div *ngFor="let question of allQuestions; let i = index">
              <div>{{ question.question }}</div>
              <div class="form-group row">
                <div class="col-sm-12 col-md-6 col-lg-12 mt-3">
                  <div
                    style="margin-right: 13%; margin-top: 0%"
                    *ngFor="let answer of question.answers; let j = index"
                    class="form-check form-check-inline mr-6"
                  >
                    <label class="form-check-label">
                      <input
                        required
                        id="{{ answer.idrespuestaseleccionada }}"
                        class="form-check-input"
                        type="radio"
                        name="{{ question.id }}"
                        [value]="answer"
                        [(ngModel)]="lstRespuestasSeleccionadas[i]"
                        (ngModelChange)="onItemChange($event, i, j)"
                      />
                      <ng-container
                        *ngIf="
                          !lstRespuestasSeleccionadas[i] &&
                          operativoForm.submitted
                        "
                      >
                        <p class="alert alert-danger alert-dismissible">
                          Este campo es requerido
                        </p>
                      </ng-container>
                      {{ answer.name }}
                    </label>
                  </div>
                </div>
              </div>
              <hr />
            </div>
          </div>
        </div>
      </div>
    </div>

    <div style="text-align: center; margin-bottom: 10px" class="row mt-3">
      <!-- Button -->
      <div class="col">
        <button
          style="color: #fec524; background: #8b2131; border-color: black"
          (click)="retrocederForm()"
          class="btn"
        >
          <i class="fa fa-sign-in"></i> Atr√°s
        </button>
      </div>
      <div class="col">
        <button
          style="color: #fec524; background: #8b2131; border-color: black"
          (click)="sendForm(operativoForm.valid)"
          class="btn"
          type="submit"
        >
          <i class="fa fa-sign-in"></i> Siguiente
        </button>
      </div>
    </div>
  </form>

  <pre>valid {{ operativoForm.valid }}</pre>

  <ngx-spinner
    bdColor="rgba(51,51,51,0.8)"
    size="medium"
    color="#fff"
    type="ball-scale-multiple"
  >
    <p style="font-size: 20px; color: white">Cargando...</p>
  </ngx-spinner>
</div>
